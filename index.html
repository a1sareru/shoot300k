<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>shoot300k</title>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
  <style>
    /* åŸºç¡€é‡ç½® */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background-color: #ffffff;
      color: #333333;
      line-height: 1.8;
      padding: 20px;
      overflow-x: hidden;
      overflow-y: auto;
      min-height: 100vh;
    }

    @media (max-width: 768px) {
      body {
        padding: 10px;
      }
    }

    p {
      /* æ®µè½é—´è·è®¾ç½®ä¸º16px */
      margin-bottom: 16px;
    }

    @media (max-width: 600px) {
      p {
        /* åœ¨è¾ƒå°çš„å±å¹•ä¸Šå‡å°‘æ®µè½é—´è· */
        margin-bottom: 8px;
      }
    }

    h3 {
      font-size: 24px;
      color: #333;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-top: 20px;
      margin-bottom: 10px;
      padding: 10px;
      background-color: #f5f5f5;
      border-left: 5px solid #ffcc00;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    @media (max-width: 600px) {
      h3 {
        font-size: 18px;
        padding: 8px;
        margin-top: 15px;
        margin-bottom: 8px;
      }
    }

    /* spoileræ ·å¼ */
    .spoiler {
      color: #3f3f3f;
      background-color: #3f3f3f;
      padding: 2px;
      border-radius: 3px;
      transition: background-color 0.3s, color 0.3s;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      cursor: pointer;

      /* é˜²æ­¢æ–‡å­—è¢«é€‰æ‹© */
      user-select: none;
    }

    .spoiler:hover {
      color: white;
      background: linear-gradient(145deg, #555, #222);
    }


    /* é¡¶éƒ¨å¯¼èˆªæ  */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: #333;
      color: white;
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 10px 0;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      z-index: 1000;
    }

    /* å¯¼èˆªæ é€‰é¡¹ */
    .nav-item {
      cursor: pointer;
      padding: 10px 15px;
      color: white;
      text-decoration: none;
      font-size: 16px;
      transition: background 0.3s;
    }

    .nav-item:hover {
      background: #555;
    }

    .nav-item.active {
      font-weight: bold;
      border-bottom: 2px solid #ffcc00;
    }

    @media (max-width: 600px) {
      .navbar {
        padding: 5px 0;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-around;
        align-items: center;
      }

      .nav-item {
        padding: 8px 10px;
        text-align: center;
        font-size: 14px;
        flex-grow: 1;
        width: 50%;
        /* ä½¿æ¯ä¸ªå¯¼èˆªé¡¹å¡«æ»¡ä¸€åŠçš„å¯¼èˆªæ å®½åº¦ */
      }
    }

    .container {
      max-width: 960px;
      margin: 100px auto 20px;
      /* ç¡®ä¿åº•éƒ¨æœ‰é—´è· */
      padding: 20px;
      background: #fff;
      box-shadow: 0 2px 5px #0000001a;
      border-radius: 4px;

      /* ğŸš€ å¤šç•™å‡º 10px é¿å…è¢«é®ä½ */
      height: calc(100vh - 50px - 60px - 10px);
      /* é¿å…é¡µé¢æ•´ä½“æ»šåŠ¨ */
      overflow: auto;
    }

    @media (max-width: 600px) {
      .container {
        /* å¢åŠ é¡¶éƒ¨è¾¹è·ä»¥é€‚åº”å±•å¼€çš„å¯¼èˆªæ ï¼Œæ›´å°çš„å·¦å³è¾¹è· */
        margin: 130px 10px 10px;
        padding: 15px;
        font-size: 95%;
      }
    }


    .bottom-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background-color: #333;
      color: white;
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
    }


    /* å›ºå®šé¡¶éƒ¨çš„tabåŒºåŸŸ */
    .tabs {
      position: sticky;
      top: 0;
      background-color: #fff;
      z-index: 1000;
      display: flex;

      /* å»é™¤å¤–è¾¹è·ï¼Œé“ºæ»¡å®½åº¦ */
      border-bottom: 2px solid #eee;
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 10px 0;
      cursor: pointer;
      border: 1px solid transparent;
      border-bottom: none;
      transition: background 0.3s;
    }

    .tab:hover {
      background-color: #f0f0f0;
    }

    .tab.active {
      border: 1px solid #ddd;
      border-bottom: 2px solid #fff;
      background-color: #fff;
      font-weight: bold;
    }

    /* å„éƒ¨åˆ†å†…å®¹ */
    .tab-content {
      display: none;
      animation: fadeIn 0.3s ease-in;
      padding-top: 10px;
      margin: 60px;
    }

    .tab-content.active {
      display: block;
    }

    @media (max-width: 600px) {
      .tab-content {
        margin: 10px;
        margin-top: 0px;
        margin-bottom: 60px;
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }


    /* å¡ç‰Œåˆ—è¡¨åŒºåŸŸæ ·å¼ */
    #card-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .card {
      display: inline-block;
      width: 110px;
      height: 135px;
      margin: 5px;
      text-align: left;
      padding: 8px;
      border-radius: 12px;
      background: #fafafa;
      transition: transform 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
      cursor: pointer;
    }

    .card img {
      max-width: 100%;
      border-radius: 4px;
    }

    .card p {
      margin: 8px 0;
      font-size: 0.9rem;
    }

    /* è¾¹æ¡†æ ·å¼ */
    .gold-border {
      border: 3px solid gold;
    }

    .silver-border {
      border: 3px solid silver;
    }

    /* é€‰ä¸­æ•ˆæœ */
    .card.selected {
      transform: scale(1.02);
      box-shadow: 0 0 5px #0000008b;
    }

    /* åªæœ‰é€‰ä¸­æ—¶æ˜¾ç¤ºèƒŒæ™¯ */
    .card.selected.gold-border {
      background: linear-gradient(135deg, #fff9e1, #fdd991);
    }

    .card.selected.silver-border {
      background: linear-gradient(135deg, #f8f8ff, #c0c0c0);
    }

    /* å›¾ç‰‡ä¸æ–‡å­—ï¼ˆfigureï¼‰ */
    figure img {
      width: 34px;
      height: 60px;
    }

    figure figcaption {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-size: 10px;
      margin-right: 5px;
    }

    @media (max-width: 600px) {
      figure img {
        width: 30px;
        height: auto;
      }

      figure figcaption {
        font-size: 8px;
      }
    }

    /* æäº¤æŒ‰é’®æ ·å¼ */
    .submit-btn {
      background-color: #f49907;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 15px;
      border-radius: 15px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-right: 20px;
      margin-bottom: 20px;
    }

    .submit-btn:hover {
      background-color: #ffb949;
      transform: scale(1.01);
      box-shadow: 0 0 5px rgba(229, 160, 58, 0.54);
    }

    .result-text {
      margin: 0;
    }

    /* å¤åˆ¶æŒ‰é’®æ ·å¼ */
    .copy-btn {
      background-color: #2196F3;
      color: white;
      border: none;
      align-self: right;
      padding: 6px 12px;
      font-size: 0.8rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .copy-btn:hover {
      background-color: #1976D2;
    }

    /* å›ºå®šæäº¤åŠç»“æœåŒºåŸŸï¼ˆä»…åœ¨æŒæœ‰å¡ç‰Œtabä¸­ï¼‰ */
    .selectCards-header {
      top: 40px;
      padding-bottom: 20px;
    }

    /* å¡ç‰Œåˆ—è¡¨æ»šåŠ¨å®¹å™¨ */
    .selectCards-scrollable {
      /* ç¡®ä¿ä¸ä¼šé®ä½ footer */
      max-height: calc(85vh - 160px - 60px - 10px);
      overflow-y: auto;

      /* æ·¡ç°è‰²èƒŒæ™¯ï¼ŒæŸ”å’Œè¿‡æ¸¡ */
      background: #eef2f5;

      /* è®©è¾¹è§’æ›´æŸ”å’Œ */
      border-radius: 8px;

      margin: 15px;

      /* ğŸš€ æ·»åŠ â€œå†…åµŒâ€è§†è§‰æ•ˆæœ */
      /* å†…é˜´å½± */
      box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.1);
      /* è½»å¾®çš„è¾¹æ¡†ï¼Œè®©å®ƒæœ‰å±‚æ¬¡æ„Ÿ */
      border: 1px solid #d1d9e6;
    }

    #selected-ids {
      font-size: 14px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;

      /* è½»å¾®ç°è‰²èƒŒæ™¯ï¼ŒæŸ”å’Œè§†è§‰ */
      background-color: #f8f9fa;

      /* è½»å¾®è¾¹æ¡† */
      border: 1px solid #ccc;

      /* åœ†è§’è¾¹æ¡† */
      border-radius: 6px;

      /* é€‚å½“çš„å†…è¾¹è· */
      padding: 8px 12px;

      /* å…è®¸æ¢è¡Œ */
      white-space: pre-wrap;

      /* é‡åˆ°é•¿å•è¯æ¢è¡Œ */
      word-break: break-word;

      /* è®©æ¡†æœ€å°é«˜åº¦ä¸º 40pxï¼Œé˜²æ­¢å†…å®¹è¿‡å°‘æ—¶å¤ªå° */
      min-height: 50px;

      /* è®©æ¡†ä¸ä¼šæ— é™å˜é«˜ */
      max-height: 120px;

      /* è¶…å‡ºæ—¶å¯ä»¥æ»šåŠ¨ */
      overflow-y: auto;

      /* ç¡®ä¿å®ƒæ˜¯å—çº§å…ƒç´  */
      display: block;
    }

    /* å±…ä¸­æäº¤åŒºåŸŸ */
    .submit-result-container {
      height: 100px;
      width: 80%;
      margin: 0 auto;
      gap: 20px;
    }

    @media (max-width: 600px) {
      .submit-result-container {
        width: 100%;
        padding: 0 10px;
        /* æ ¹æ®éœ€è¦è°ƒæ•´å†…è¾¹è· */
        box-sizing: border-box;
        /* ç¡®ä¿å†…è¾¹è·ä¹Ÿç®—åœ¨å®½åº¦å†… */
      }
    }
  </style>
</head>

<body>
  <!-- å›ºå®šé¡¶éƒ¨çš„å¯¼èˆªæ  -->
  <nav class="navbar">
    <a class="nav-item active" data-target="main">âœ¨ Top</a>
    <a class="nav-item" data-target="selectCards">ğŸ´ æŒæœ‰å¡ç‰Œ</a>
    <a class="nav-item" data-target="calc">ğŸ§® å¡ç»„è®¡ç®—</a>
    <a class="nav-item" data-target="about">ğŸ¤¦ å…³äº</a>
  </nav>

  <!-- å„ä¸ªé¡µé¢ -->
  <div class="container">
    <!-- Top -->
    <div id="main" class="tab-content">
      <p>è¿™æ˜¯æŸä½æ‡’æƒ°è´¤è€…ä¸ºè‡ªå·±å¼€å‘çš„åŒè‰²é“¶å¡ç»„é…å¡åŠ©æ‰‹ã€‚ï¼ˆ<span id="last-updated">åŠ è½½ä¸­...</span>ï¼‰</p>
      <p><strong>è¯·å°½å¯èƒ½åœ¨ç”µè„‘æµè§ˆå™¨ä½¿ç”¨ï¼</strong>åªåšäº†æœ€ä½ç¨‹åº¦çš„é€‚é…ï¼Œæ‰€ä»¥ä¸æ¨èç§»åŠ¨ç«¯ä½¿ç”¨â€¦â€¦ï¼</p>
      <p>ç«™ç‚¹å®Œå…¨åŸºäºå‰ç«¯è¿è¡Œï¼Œä¸ä¼šå­˜å‚¨æ‚¨çš„ä»»ä½•æ•°æ®ï¼Œè¯·æ”¾å¿ƒä½¿ç”¨ã€‚</p>
      <h3>ğŸ ä½¿ç”¨æ–¹æ³•</h3>
      <ul>
        <li>é¦–å…ˆï¼Œåœ¨ã€ŒæŒæœ‰å¡ç‰Œã€é¡µé¢ï¼Œé€šè¿‡é€‰ä¸­å¡ç‰Œï¼Œç”Ÿæˆæ‚¨çš„ã€Œå¡ç‰Œåº“å­˜ã€å­—ç¬¦ä¸²ã€‚</li>
        <li>ç„¶åï¼Œå‰å¾€ã€Œå¡ç»„è®¡ç®—ã€é¡µé¢ï¼Œè¾“å…¥å¯¼å‡ºçš„ã€Œå¡ç‰Œåº“å­˜ã€å­—ç¬¦ä¸²ï¼Œè¿›è¡Œè®¡ç®—ã€‚</li>
      </ul>

      <h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3>
      <ul>
        <li>ç«™ç‚¹å†…çš„æ‰€æœ‰æ“ä½œå‡åªè€ƒè™‘ SSR å’Œ SR ç±»å‹çš„å¡ç‰Œï¼›</li>
        <li>æ•°æ®å¤§éƒ¨åˆ†æ¥æºäº<span class="spoiler">æ¸¸æˆæ–‡ä»¶è§£åŒ…</span>ï¼Œå…¶ä½™ç”±äººå·¥è‡ªè¡Œè¡¥å……ï¼›</li>
        </li>
        <li>ã€å¡ç‰Œåºå·é—®é¢˜Â·å…¶ä¸€ã€‘ç”±äº coly <del style="color: gray;">ä¸çŸ¥å‡ºäºä½•ç§è€ƒè™‘</del>
          å°†<u><strong>ã€è³¢è€…æ§˜ã®ä¸–ç•Œã®å‘³ã€‘ã‚¢ãƒ¼ã‚µãƒ¼</strong></u> çš„ ID è®¾ä¸º 356ï¼ˆåŸæœ¬åº”ä¸º 337ï¼‰ï¼Œ
          å› æ­¤ï¼Œæœ¬ç«™ç‚¹å¯¹æ‰€æœ‰ ID å¤§äº 336 çš„å¡ç‰‡è¿›è¡Œäº† +19 çš„è°ƒæ•´ã€‚è¯·ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„æ•°æ®è¿›è¡Œè®¡ç®—ã€‚
          ï¼ˆè‹¥ä½¿ç”¨ã€ŒæŒæœ‰å¡ç‰Œã€é¡µé¢å¯¼å‡ºæ•°æ®ï¼Œä¸”æœªåšé¢å¤–ä¿®æ”¹ï¼Œåˆ™å¯å¿½ç•¥æ­¤æç¤ºï¼‰ï¼›</li>
        <li>ã€å¡ç‰Œåºå·é—®é¢˜Â·å…¶äºŒã€‘æ­¤å¤–ï¼Œæœ¬ç«™ç‚¹å‡è®¾ <strong>ã€ã´ã‹ã´ã‹è¦‹ãƒ¼ã¤ã‘ãŸï¼ã€‘ãƒ ãƒ«</strong> åŠå…¶åçš„æ‰€æœ‰å¡ç‰‡ ID
          å‡æœªå—ä¸Šè¿°è°ƒæ•´å½±å“ï¼ˆå³ï¼šã€ã´ã‹ã´ã‹è¦‹ãƒ¼ã¤ã‘ãŸï¼ã€‘ãƒ ãƒ« = 1106ï¼‰ã€‚
          æœªæ¥è‹¥æ¸¸æˆæ•°æ®æ›´æ–°ï¼Œç›¸å…³å¡ç‰‡ ID å¯èƒ½ä¼šæœ‰æ‰€å˜åŠ¨ï¼Œå±Šæ—¶ç›¸å…³è°ƒæ•´å°†åœ¨æœ¬é¡µé¢æ³¨æ˜ï¼Œæ•¬è¯·ç•™æ„ï¼›</li>
        <li>å¦‚æœ‰é”™æ¼æŠ¥å‘Šæˆ–å…¶ä»–å»ºè®®ï¼Œæ¬¢è¿è”ç³»å¼€å‘è€…ğŸ™Œï¼›</li>
        <li>å¼€å‘è€…çš„è”ç³»æ–¹å¼ï¼Œä»¥åŠæœ‰å…³è¯¥é¡¹ç›®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ã€Œå…³äºã€é¡µé¢ã€‚</li>
      </ul>

      <h3>ğŸ“£ å…¬å‘Šæ¿</h3>
      <p style="font-size: smaller;">ï¼ˆâ€»æœ¬ç‰ˆå—æœ€åæ›´æ–°æ—¶é—´ï¼š2025-02-02 14:45:19 UTCï¼‰</p>
      <p>ğŸš§ å·¥äº‹ä¸­â€¦â€¦</p>
    </div>
    <!-- æŒæœ‰å¡ç‰Œ -->
    <div id="selectCards" class="tab-content" style="margin: 10px;">
      <div class="selectCards-header">
        <div class="submit-result-container">
          <button id="submit-cards" class="submit-btn">æäº¤é€‰å¡</button>
          <button id="copy-result" class="copy-btn" style="display: none;">å¤åˆ¶ç»“æœ</button>
          <div id="selected-ids" class="result-text"></div>
        </div>
      </div>
      <!-- æ»šåŠ¨åŒºåŸŸï¼šå¡ç‰Œåˆ—è¡¨ -->
      <div class="selectCards-scrollable">
        <div id="card-list">åŠ è½½ä¸­...</div>
      </div>
    </div>
    <!-- å¡ç»„è®¡ç®— -->
    <div id="calc" class="tab-content">
      <h2>å¡ç»„è®¡ç®—</h2>
      <p>TODOï¼šæ ¹æ®ç‰¹å®šçš„è¾“å…¥è¿›è¡Œè®¡ç®—ã€‚</p>
    </div>
    <!-- å…³äº -->
    <div id="about" class="tab-content">
      <h3>âš–ï¸ Disclaimer</h3>
      <p>æœ¬å·¥å…·ä»…ä¾›ä¸ªäººç ”ç©¶ä¸å­¦ä¹ ä½¿ç”¨ï¼Œä»»ä½•ä½¿ç”¨æœ¬å·¥å…·çš„è¡Œä¸ºå‡åº”ç¬¦åˆé€‚ç”¨æ³•å¾‹æ³•è§„ã€‚å¼€å‘è€…ä¸å¯¹ä»»ä½•ç”¨æˆ·çš„ä½¿ç”¨æ–¹å¼è´Ÿè´£ï¼Œäº¦ä¸æ‰¿æ‹…ä»»ä½•ç”±æ­¤å¼•å‘çš„æ³•å¾‹è´£ä»»ã€‚</p>
      <p>æœ¬å·¥å…·ä¸å­˜å‚¨ã€ä¸ä¼ æ’­ä»»ä½•å—ç‰ˆæƒä¿æŠ¤çš„å†…å®¹ã€‚å¦‚æœæœ¬å·¥å…·è¢«è®¤ä¸ºä¾µçŠ¯äº†æ‚¨çš„åˆæ³•æƒç›Šï¼Œè¯·é€šè¿‡ç”µå­é‚®ä»¶è”ç³»æˆ‘ä»¬ï¼Œæˆ‘ä»¬å°†ç«‹å³åœæ­¢ç›¸å…³å†…å®¹çš„æä¾›å¹¶è¿›è¡Œåˆ é™¤ã€‚</p>
      <p>å¼€å‘è€…æ”¾å¼ƒå¯¹æ­¤å·¥å…·çš„æ‰€æœ‰æƒåˆ©ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºçŸ¥è¯†äº§æƒã€å•†ä¸šåˆ©ç›Šå’Œåç»­ç»´æŠ¤è´£ä»»ã€‚æœ¬å·¥å…·ä»¥â€œåŸæ ·â€æä¾›ï¼Œä¸ä¿è¯å…¶å‡†ç¡®æ€§ã€å®Œæ•´æ€§æˆ–é€‚ç”¨æ€§ï¼Œä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ‹…æ‰€æœ‰é£é™©ã€‚</p>
      <p>è”ç³»æ–¹å¼ï¼š<a href="mailto:kmbk.kr.dev@outlook.jp">kmbk.kr.dev[AT]outlook.jp</a></p>
    </div>
  </div>

  <!-- åº•æ  -->
  <footer class="bottom-bar text-center">
    <p>Â© 2025 ã¨ã‚ã‚‹åç„¡ã—è³¢è€…. All rights waived.</p>
  </footer>

  <!-- åŠ¨ä½œè„šæœ¬ -->
  <script>
    // è·å–æ‰€æœ‰å¯¼èˆªé¡¹å’Œå†…å®¹åŒºåŸŸ
    const tabs = document.querySelectorAll(".nav-item");
    const sections = document.querySelectorAll(".section");

    // ç›‘å¬ç‚¹å‡»äº‹ä»¶
    tabs.forEach(tab => {
      tab.addEventListener("click", () => {
        // ç§»é™¤æ‰€æœ‰çš„ active ç±»
        tabs.forEach(t => t.classList.remove("active"));
        sections.forEach(section => section.classList.remove("active"));

        // æ·»åŠ  active ç±»åˆ°è¢«ç‚¹å‡»çš„é€‰é¡¹å’Œç›¸åº”å†…å®¹
        tab.classList.add("active");
        document.getElementById(tab.getAttribute("data-target")).classList.add("active");
      });
    });

    async function fetchLastUpdated(owner, repo) {
      const url = `https://api.github.com/repos/${owner}/${repo}`;
      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error(`GitHub API è¯·æ±‚å¤±è´¥: ${response.status}`);

        const data = await response.json();
        const lastUpdated = new Date(data.pushed_at).toLocaleString("zh-CN", {
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          hour12: false // 24å°æ—¶åˆ¶
        });

        document.getElementById("last-updated").textContent = `æœ€åæ›´æ–°: ${lastUpdated}`;
      } catch (error) {
        document.getElementById("last-updated").textContent = "è·å–å¤±è´¥";
        console.error("è·å– GitHub ä»“åº“ä¿¡æ¯å¤±è´¥:", error);
      }
    }

    fetchLastUpdated("a1sareru", "shoot300k");

    // åŠ è½½ CSV æ•°æ®å¹¶æ˜¾ç¤ºæŒæœ‰å¡ç‰Œ
    function loadCards() {
      fetch('https://raw.githubusercontent.com/a1sareru/shoot300k/refs/heads/main/public/data/character_card.csv')
        .then(response => {
          if (!response.ok) {
            throw new Error('æ— æ³•åŠ è½½CSVæ–‡ä»¶');
          }
          return response.text();
        })
        .then(csvText => {
          const cards = parseCSV(csvText);
          // è¿‡æ»¤åªæ˜¾ç¤º SSR å’Œ SRï¼ˆrarity ä¸º 4 æˆ– 3ï¼‰
          const filteredCards = cards.filter(card => {
            const rarity = card.rarity.trim();
            return rarity === "4" || rarity === "3";
          });
          renderCards(filteredCards);
        })
        .catch(error => {
          document.getElementById('card-list').innerText = 'åŠ è½½å¡ç‰Œæ•°æ®å‡ºé”™: ' + error;
          console.error(error);
        });
    }

    // ç®€å• CSV è§£æå™¨ï¼ˆå‡è®¾ CSV æ²¡æœ‰å­—æ®µå†…åµŒé€—å·ï¼Œä¸”ä»¥æ¢è¡Œåˆ†éš”ï¼‰
    function parseCSV(text) {
      const lines = text.trim().split('\n');
      const headers = lines[0].split(',');
      const data = lines.slice(1).map(line => {
        const values = line.split(',');
        const obj = {};
        headers.forEach((header, index) => {
          obj[header.trim()] = values[index] ? values[index].trim() : "";
        });
        return obj;
      });
      return data;
    }

    // æ¸²æŸ“å¡ç‰Œåˆ—è¡¨åˆ°é¡µé¢
    function renderCards(cards) {
      const cardListEl = document.getElementById('card-list');
      if (cards.length === 0) {
        cardListEl.innerText = 'æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å¡ç‰Œã€‚';
        return;
      }
      cardListEl.innerHTML = '';
      cards.forEach(card => {
        const cardEl = document.createElement('div');
        cardEl.className = 'card';
        cardEl.dataset.id = card.id;
        if (card.rarity.trim() === "4") {
          cardEl.classList.add('gold-border');
        } else if (card.rarity.trim() === "3") {
          cardEl.classList.add('silver-border');
        }
        // è®¾ç½®å¡ç‰Œå†…å®¹ï¼ˆå›¾ç‰‡å’Œæ ‡é¢˜ï¼‰
        cardEl.innerHTML = `
          <figure style="display: flex; flex-direction: column; align-items: center; margin: 0;">
            <img src="https://raw.githubusercontent.com/a1sareru/shoot300k/refs/heads/main/public/images/cards/${card.id}.jpg" 
                alt="${card.title}" 
                style="width: 34px; height: 60px;" 
                onerror="this.src='';" />
            <figcaption style="font-size: 9px; text-align: center; white-space: normal; word-break: break-word; line-height: 1.7; margin: 2px 0; padding: 2px;">
              ${(() => {
                const modified = card.title.replace(/ã€/g, '').replace(/ã€‘/g, '<br>')+" | "+card.id;
                const lines = modified.split('<br>');
                if (lines.length > 0) {
                  lines[0] = `<strong style="font-size: 10.5px; font-weight: 900; color: #000; -webkit-text-stroke: 0.3px #a7d8e8;">${lines[0]}</strong>`;
                }
                return lines.join('<br>');
              })()}
            </figcaption>
          </figure>
        `;
        cardEl.addEventListener('click', () => {
          cardEl.classList.toggle('selected');
        });
        cardListEl.appendChild(cardEl);
      });
    }

    // æäº¤é€‰å¡ï¼Œæ˜¾ç¤ºç»“æœ
    document.getElementById('submit-cards').addEventListener('click', () => {
      const selectedCards = document.querySelectorAll('.card.selected');
      const selectedIds = Array.from(selectedCards).map(card => card.dataset.id);
      const idString = selectedIds.join(',');
      document.getElementById('selected-ids').innerText = idString;
      const copyButton = document.getElementById('copy-result');
      copyButton.style.display = idString.trim().length > 0 ? 'inline-block' : 'none';
    });

    // å¤åˆ¶åŠŸèƒ½
    document.getElementById('copy-result').addEventListener('click', () => {
      const resultText = document.getElementById('selected-ids').innerText;
      navigator.clipboard.writeText(resultText)
        .then(() => { alert('ç»“æœå·²å¤åˆ¶åˆ°å‰ªè´´æ¿'); })
        .catch(err => { alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶'); console.error(err); });
    });

    document.addEventListener("DOMContentLoaded", function() {
      document.querySelector(".nav-item[data-target='main']").classList.add("active");
      document.querySelector("#main").classList.add("active");
      // 1. è·å–æ‰€æœ‰çš„å¯¼èˆªé¡¹
      const navItems = document.querySelectorAll(".nav-item");

      // 2. ç›‘å¬ç‚¹å‡»äº‹ä»¶
      navItems.forEach(item => {
        item.addEventListener("click", function() {
          // 2.1 ç§»é™¤æ‰€æœ‰å¯¼èˆªé¡¹çš„ active ç±»
          navItems.forEach(nav => nav.classList.remove("active"));

          // 2.2 ç»™å½“å‰ç‚¹å‡»çš„å¯¼èˆªé¡¹æ·»åŠ  active ç±»
          this.classList.add("active");

          // 2.3 è·å–å¯¹åº”çš„ tab-content ID
          const targetId = this.getAttribute("data-target");

          // 2.4 éšè—æ‰€æœ‰ tab-content
          document.querySelectorAll(".tab-content").forEach(tab => {
            tab.classList.remove("active");
          });

          // 2.5 æ˜¾ç¤ºå¯¹åº”çš„ tab-content
          document.getElementById(targetId).classList.add("active");

          // ğŸš€ åªæœ‰ "æŒæœ‰å¡ç‰Œ" ç•Œé¢æ—¶ï¼Œç¦æ­¢ body æ»šåŠ¨
          if (targetId === "selectCards") {
            document.body.style.overflow = "hidden";
            loadCards();
          } else {
            document.body.style.overflow = "auto";
          }
        });
      });
    });
  </script>
</body>

</html>